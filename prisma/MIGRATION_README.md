# üöÄ –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è–º–∏

## üìã –û–±–∑–æ—Ä

–≠—Ç–∞ –º–∏–≥—Ä–∞—Ü–∏—è –≤–≤–æ–¥–∏—Ç –∫–æ–Ω—Ü–µ–ø—Ü–∏—é **–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π** –≤ —Å–∏—Å—Ç–µ–º—É, —Ä–∞–∑–¥–µ–ª—è—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞:

1. **Organization Owners (–í–ª–∞–¥–µ–ª—å—Ü—ã –∫–æ–º–ø–∞–Ω–∏–π)** - —Å–æ–∑–¥–∞—é—Ç –∏ —É–ø—Ä–∞–≤–ª—è—é—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è–º–∏, –ø–ª–∞—Ç—è—Ç –∑–∞ –ø–æ–¥–ø–∏—Å–∫—É
2. **Regular Users (–û–±—ã—á–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)** - –ø—Ä–∏–≥–ª–∞—à–∞—é—Ç—Å—è –≤ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏, –Ω–µ –ø–ª–∞—Ç—è—Ç

## üéØ –¶–µ–ª–∏

- ‚úÖ –ß—ë—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ –∫–æ–º–ø–∞–Ω–∏–π –∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–ø–∞–Ω–∏–π –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏ (–ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π)
- ‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å (–æ–¥–Ω–∞ –∫–æ–º–ø–∞–Ω–∏—è = –º–Ω–æ–≥–æ –∫–æ—Ä–∞–±–ª–µ–π)

## üìä –û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –ù–æ–≤—ã–µ –º–æ–¥–µ–ª–∏

```
Organization
‚îú‚îÄ‚îÄ id: String (UUID)
‚îú‚îÄ‚îÄ name: String
‚îú‚îÄ‚îÄ ownerId: String (User)
‚îú‚îÄ‚îÄ type: OrganizationType (COMPANY/INDIVIDUAL)
‚îî‚îÄ‚îÄ –û—Ç–Ω–æ—à–µ–Ω–∏—è:
    ‚îú‚îÄ‚îÄ vessels: Vessel[]
    ‚îú‚îÄ‚îÄ members: OrganizationMember[]
    ‚îî‚îÄ‚îÄ subscriptions: Subscription[]

OrganizationMember
‚îú‚îÄ‚îÄ id: String (UUID)
‚îú‚îÄ‚îÄ userId: String
‚îú‚îÄ‚îÄ organizationId: String
‚îú‚îÄ‚îÄ role: OrgRole (ADMIN/MANAGER/MEMBER)
‚îî‚îÄ‚îÄ status: MemberStatus (ACTIVE/SUSPENDED/etc)
```

### –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏

```
User
‚îî‚îÄ‚îÄ + userType: UserType (ORGANIZATION_OWNER/REGULAR)
‚îî‚îÄ‚îÄ + ownedOrganizations: Organization[]
‚îî‚îÄ‚îÄ + organizationMemberships: OrganizationMember[]

Vessel
‚îî‚îÄ‚îÄ + organizationId: String (—Ç–µ–ø–µ—Ä—å –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏)

Subscription
‚îî‚îÄ‚îÄ organizationId: String (–±—ã–ª–æ vesselId)
‚îî‚îÄ‚îÄ + maxVessels: Int (–ª–∏–º–∏—Ç –∫–æ—Ä–∞–±–ª–µ–π)

Invitation
‚îî‚îÄ‚îÄ + organizationId: String (–ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –≤ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é)
‚îî‚îÄ‚îÄ + orgRole: OrgRole? (—Ä–æ–ª—å –≤ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏)
```

### –ù–æ–≤—ã–µ Enums

```typescript
enum UserType {
  ORGANIZATION_OWNER  // –í–ª–∞–¥–µ–ª–µ—Ü –∫–æ–º–ø–∞–Ω–∏–∏ (–ø–ª–∞—Ç–∏—Ç)
  REGULAR             // –û–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–ø—Ä–∏–≥–ª–∞—à—ë–Ω)
}

enum OrganizationType {
  COMPANY
  INDIVIDUAL
}

enum OrgRole {
  ADMIN    // –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
  MANAGER  // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –∫–æ—Ä–∞–±–ª—è–º–∏
  MEMBER   // –¢–æ–ª—å–∫–æ –¥–æ—Å—Ç—É–ø –∫ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–º –∫–æ—Ä–∞–±–ª—è–º
}

enum MemberStatus {
  ACTIVE
  SUSPENDED
  INVITED
  REMOVED
}
```

## üîÑ –õ–æ–≥–∏–∫–∞ –ú–∏–≥—Ä–∞—Ü–∏–∏

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ Organization –¥–ª—è –∫–∞–∂–¥–æ–≥–æ Vessel
```typescript
// –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ Vessel:
// 1. –ë–µ—Ä—ë–º –ø–µ—Ä–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ø–æ joinedAt) ‚Üí –¥–µ–ª–∞–µ–º Owner
// 2. –°–æ–∑–¥–∞—ë–º Organization —Å –∏–º–µ–Ω–µ–º –∏–∑ Vessel
// 3. –°–≤—è–∑—ã–≤–∞–µ–º Vessel —Å Organization
```

### –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ OrganizationMember
```typescript
// –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Vessel:
// 1. –ü–µ—Ä–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí ADMIN
// 2. DIRECTOR, HEAD_OF_DEPARTMENT ‚Üí MANAGER
// 3. –û—Å—Ç–∞–ª—å–Ω—ã–µ ‚Üí MEMBER
```

### –®–∞–≥ 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
```typescript
// –í–ª–∞–¥–µ–ª—å—Ü—ã –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π ‚Üí ORGANIZATION_OWNER
// –û—Å—Ç–∞–ª—å–Ω—ã–µ ‚Üí REGULAR
```

### –®–∞–≥ 4: –ü–µ—Ä–µ–Ω–æ—Å –ø–æ–¥–ø–∏—Å–æ–∫
```typescript
// Subscription.vesselId ‚Üí Subscription.organizationId
```

## üìà –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏

–ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤—ã —Å–º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∞—Ç—å —Ç–∞–∫—É—é –∞–Ω–∞–ª–∏—Ç–∏–∫—É:

```sql
-- –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–ø–∞–Ω–∏–π
SELECT COUNT(*) FROM "Organization";

-- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ –∫–æ–º–ø–∞–Ω–∏–π (–ø–ª–∞—Ç—è—â–∏–µ)
SELECT COUNT(*) FROM "User" WHERE "userType" = 'ORGANIZATION_OWNER';

-- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–ø—Ä–∏–≥–ª–∞—à—ë–Ω–Ω—ã–µ)
SELECT COUNT(*) FROM "User" WHERE "userType" = 'REGULAR';

-- –°—Ä–µ–¥–Ω–∏–π —Ä–∞–∑–º–µ—Ä –∫–æ–º–∞–Ω–¥—ã
SELECT AVG(member_count) FROM (
  SELECT COUNT(*) as member_count 
  FROM "OrganizationMember" 
  GROUP BY "organizationId"
) as team_sizes;

-- –¢–æ–ø –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
SELECT 
  o.name,
  COUNT(om."userId") as user_count
FROM "Organization" o
LEFT JOIN "OrganizationMember" om ON o.id = om."organizationId"
GROUP BY o.id, o.name
ORDER BY user_count DESC
LIMIT 10;

-- –ê–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∫–∏ –∏ –∏—Ö –≤–ª–∞–¥–µ–ª—å—Ü—ã
SELECT 
  o.name as company,
  u.email as owner_email,
  s.status,
  s."maxUsers",
  s."maxVessels",
  COUNT(om."userId") as current_users
FROM "Subscription" s
JOIN "Organization" o ON s."organizationId" = o.id
JOIN "User" u ON o."ownerId" = u.id
LEFT JOIN "OrganizationMember" om ON o.id = om."organizationId"
WHERE s.status = 'ACTIVE'
GROUP BY o.id, o.name, u.email, s.id, s.status, s."maxUsers", s."maxVessels";
```

## üé® –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ UI

### –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

```typescript
// src/app/signup/page.tsx

export default function SignUpPage() {
  return (
    <div>
      <h1>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h1>
      
      {/* –í—ã–±–æ—Ä —Ç–∏–ø–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ */}
      <RadioGroup>
        <RadioOption value="create_company">
          <Icon>üè¢</Icon>
          <Title>–°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–∞–Ω–∏—é</Title>
          <Description>
            –£–ø—Ä–∞–≤–ª—è–π—Ç–µ –≤–∞—à–µ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–µ–π –∏ –∫–æ—Ä–∞–±–ª—è–º–∏
          </Description>
          <Badge>–û—Ç $49/–º–µ—Å</Badge>
        </RadioOption>
        
        <RadioOption value="join_by_invite">
          <Icon>üë§</Icon>
          <Title>–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –ø–æ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—é</Title>
          <Description>
            –ù—É–∂–µ–Ω –ø—Ä–∏–≥–ª–∞—Å–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–¥ –æ—Ç –≤–∞—à–µ–π –∫–æ–º–ø–∞–Ω–∏–∏
          </Description>
          <Badge variant="success">–ë–µ—Å–ø–ª–∞—Ç–Ω–æ</Badge>
        </RadioOption>
      </RadioGroup>
    </div>
  );
}
```

### Dashboard –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞

```
/account
‚îú‚îÄ‚îÄ –ú–æ—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ –ù–∞–∑–≤–∞–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ –û–ø–∏—Å–∞–Ω–∏–µ
‚îÇ   ‚îî‚îÄ‚îÄ –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
‚îú‚îÄ‚îÄ –ü–æ–¥–ø–∏—Å–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ –¢–µ–∫—É—â–∏–π –ø–ª–∞–Ω
‚îÇ   ‚îú‚îÄ‚îÄ –õ–∏–º–∏—Ç—ã (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏/–∫–æ—Ä–∞–±–ª–∏)
‚îÇ   ‚îî‚îÄ‚îÄ –°–ª–µ–¥—É—é—â–∏–π –ø–ª–∞—Ç—ë–∂
‚îú‚îÄ‚îÄ –ö–æ–º–∞–Ω–¥–∞ (10/15)
‚îÇ   ‚îú‚îÄ‚îÄ [+] –ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å
‚îÇ   ‚îî‚îÄ‚îÄ –°–ø–∏—Å–æ–∫ —á–ª–µ–Ω–æ–≤ —Å —Ä–æ–ª—è–º–∏
‚îî‚îÄ‚îÄ –ö–æ—Ä–∞–±–ª–∏ (3/5)
    ‚îú‚îÄ‚îÄ [+] –î–æ–±–∞–≤–∏—Ç—å –∫–æ—Ä–∞–±–ª—å
    ‚îî‚îÄ‚îÄ –°–ø–∏—Å–æ–∫ –∫–æ—Ä–∞–±–ª–µ–π
```

### Dashboard –¥–ª—è –æ–±—ã—á–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```
/account
‚îú‚îÄ‚îÄ –ú–æ–∏ –∫–æ—Ä–∞–±–ª–∏
‚îÇ   ‚îî‚îÄ‚îÄ –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ—Ä–∞–±–ª–µ–π
‚îî‚îÄ‚îÄ –ü—Ä–æ—Ñ–∏–ª—å
    ‚îú‚îÄ‚îÄ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
    ‚îî‚îÄ‚îÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∏
    
(–ë–µ–∑ –¥–æ—Å—Ç—É–ø–∞ –∫ –±–∏–ª–ª–∏–Ω–≥—É –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–µ–π)
```

## üîê –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

### Organization Owner (–í–ª–∞–¥–µ–ª–µ—Ü)
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–µ–π
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–æ–π
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –∫–æ—Ä–∞–±–ª–µ–π
- ‚úÖ –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–µ–π

### Organization Admin
- ‚úÖ –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ—Ä–∞–±–ª—è–º–∏
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–æ–º–∞–Ω–¥—ã
- ‚ùå –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏
- ‚ùå –£–¥–∞–ª–µ–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏

### Organization Manager
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–æ—Ä–∞–±–ª–µ–π
- ‚úÖ –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–≤ —Å–≤–æ–π –∫–æ—Ä–∞–±–ª—å)
- ‚ùå –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–µ–π
- ‚ùå –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏

### Organization Member (–û–±—ã—á–Ω—ã–π)
- ‚úÖ –î–æ—Å—Ç—É–ø –∫ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–º –∫–æ—Ä–∞–±–ª—è–º
- ‚ùå –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚ùå –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–µ–π

## üí∞ –ú–æ–¥–µ–ª—å –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏

### –ü—Ä–∏–º–µ—Ä —Ç–∞—Ä–∏—Ñ–Ω—ã—Ö –ø–ª–∞–Ω–æ–≤

```typescript
// Starter Plan
{
  name: "Starter",
  price: 49,
  billingCycle: "MONTHLY",
  maxUsers: 5,
  maxVessels: 2,
  features: ["Basic Support", "1 GB Storage"]
}

// Business Plan
{
  name: "Business",
  price: 149,
  billingCycle: "MONTHLY",
  maxUsers: 20,
  maxVessels: 10,
  features: ["Priority Support", "10 GB Storage", "Advanced Analytics"]
}

// Enterprise Plan
{
  name: "Enterprise",
  price: 499,
  billingCycle: "MONTHLY",
  maxUsers: -1, // Unlimited
  maxVessels: -1, // Unlimited
  features: ["24/7 Support", "Unlimited Storage", "Custom Integrations"]
}
```

## üöÄ –ü–æ—Ä—è–¥–æ–∫ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (–î–µ–Ω—å 1)

```bash
# 1. –°–æ–∑–¥–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –ë–î
pg_dump your_database > backup_$(date +%Y%m%d).sql

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ
npm run ts-node prisma/migration-guide.ts validateBeforeMigration
```

### 2. –ú–∏–≥—Ä–∞—Ü–∏—è —Å—Ö–µ–º—ã (–î–µ–Ω—å 2)

```bash
# 1. –ó–∞–º–µ–Ω–∏—Ç—å schema.prisma –Ω–∞ schema.new.prisma
cp prisma/schema.new.prisma prisma/schema.prisma

# 2. –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é
npx prisma migrate dev --name add_organizations

# 3. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å Prisma Client
npx prisma generate
```

### 3. –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (–î–µ–Ω—å 2)

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç
npm run migrate:organizations

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
# –ï—Å–ª–∏ –æ—à–∏–±–∫–∏ - –æ—Ç–∫–∞—Ç–∏—Ç—å
npm run migrate:rollback
```

### 4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞ (–î–µ–Ω—å 3-5)

- [ ] –û–±–Ω–æ–≤–∏—Ç—å API endpoints –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è–º–∏
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- [ ] –û–±–Ω–æ–≤–∏—Ç—å dashboard
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π
- [ ] –î–æ–±–∞–≤–∏—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–æ–π

### 5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–î–µ–Ω—å 6-7)

- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- [ ] –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [ ] –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ—Ä–∞–±–ª—è–º–∏
- [ ] –ü–æ–¥–ø–∏—Å–∫–∏
- [ ] –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

### 6. –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ (–î–µ–Ω—å 8)

```bash
# 1. Backup –ø—Ä–æ–¥–∞–∫—à–µ–Ω –ë–î
# 2. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö
# 4. –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π –∫–æ–¥
# 5. –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –æ—à–∏–±–∫–∏
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!** –ü–µ—Ä–µ–¥ –ª—é–±—ã–º–∏ –¥–µ–π—Å—Ç–≤–∏—è–º–∏.

2. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ –∫–æ–ø–∏–∏ –¥–∞–Ω–Ω—ã—Ö** –ø–µ—Ä–µ–¥ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ.

3. **Vessels –±–µ–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** –±—É–¥—É—Ç –ø—Ä–æ–ø—É—â–µ–Ω—ã - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞–Ω–Ω—ã–µ –∑–∞—Ä–∞–Ω–µ–µ.

4. **–ü–µ—Ä–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è Owner** - —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤—ã–±–æ—Ä.

5. **–û—Ç–∫–∞—Ç –≤–æ–∑–º–æ–∂–µ–Ω** —Ç–æ–ª—å–∫–æ —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏ (—Ñ—É–Ω–∫—Ü–∏—è `rollbackMigration()`).

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–∏ –º–∏–≥—Ä–∞—Ü–∏–∏:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –º–∏–≥—Ä–∞—Ü–∏–∏
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª —Å –æ—à–∏–±–∫–∞–º–∏ –≤ –∏—Ç–æ–≥–æ–≤–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ
3. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –æ—Ç–∫–∞—Ç
4. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏–∑ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏

## ‚úÖ Checklist –ø–µ—Ä–µ–¥ –º–∏–≥—Ä–∞—Ü–∏–µ–π

- [ ] –°–æ–∑–¥–∞–Ω–∞ —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –ë–î
- [ ] –ü—Ä–æ–≤–µ–¥–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ –∫–æ–ø–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- [ ] –ö–æ–º–∞–Ω–¥–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∞ –æ –ø—Ä–µ–¥—Å—Ç–æ—è—â–µ–π –º–∏–≥—Ä–∞—Ü–∏–∏
- [ ] –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω –ø–ª–∞–Ω –æ—Ç–∫–∞—Ç–∞
- [ ] –û–±–Ω–æ–≤–ª—ë–Ω –∫–æ–¥ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–æ–≤–æ–π —Å—Ö–µ–º–æ–π
- [ ] –ü—Ä–æ–≤–µ–¥–µ–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫–æ–¥–∞
- [ ] –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [ ] –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–∫–Ω–æ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- `schema.new.prisma` - –ù–æ–≤–∞—è —Å—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- `migration-guide.ts` - –°–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ —Å –ª–æ–≥–∏–∫–æ–π –ø–µ—Ä–µ–Ω–æ—Å–∞ –¥–∞–Ω–Ω—ã—Ö
- `TYPES_CHANGES.md` - –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ TypeScript —Ç–∏–ø–∞—Ö (TODO)

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 29.11.2025
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤ –∫ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

